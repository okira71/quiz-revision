<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Quiz Litt√©raires Avanc√©</title>
<!-- Importation du fichier CSS -->
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="header-container">
    <span id="currentUserDisplay"></span>
    <button id="themeToggleBtn">Th√®me Sombre</button>
</div>

<div class="main-content">
    <div id="selectionContainer">
        <h1>Quiz Litt√©raires</h1>

        <div class="menu-section">
            <h2>G√©rer les Profils</h2>
            <label for="usernameInput">Nom d'utilisateur :</label>
            <input type="text" id="usernameInput" placeholder="Entrez votre nom" />
            <button id="createUserBtn">Cr√©er Nouveau Profil</button>
            <button id="loadUserBtn">Charger Profil</button>
            <div id="profileList" class="profile-list" style="margin-top: 15px;">
                <!-- Les profils charg√©s seront ins√©r√©s ici -->
            </div>
            <p style="font-size: 0.9em; margin-top: 15px;">Profil actif : <strong id="activeUserProfile">Aucun</strong></p>
            <button id="viewStatsBtn" style="display: none;">Voir mes Statistiques</button>
            <button id="deleteUserBtn" style="display: none;">Supprimer Profil</button> <!-- Nouveau bouton de suppression -->
        </div>

        <div class="menu-section">
            <h2>Choisir un Quiz</h2>
            <button id="startFiguresBtn" class="quiz-choice-btn">üß† Figures de Style</button>
            <button id="startTonalitesBtn" class="quiz-choice-btn">üìò Tonalit√©s Litt√©raires</button>
            <!-- Nouveau bouton pour la dissertation -->
            <button id="startDissertationBtn" class="quiz-choice-btn">‚úçÔ∏è Dissertation</button>
        </div>

        <div class="menu-section" id="gameOptionsSection" style="display: none;">
            <h2>Options de Jeu</h2>
            <label>Mode de Jeu :</label>
            <div class="quiz-options" id="gameModeOptions">
                <button data-mode="normal" class="selected">Normal</button>
                <button data-mode="survival">Survie</button>
                <button data-mode="timetrial">Contre-la-montre</button>
                <button data-mode="revision">R√©vision</button>
            </div>

            <label for="difficultySelect" style="margin-top: 15px;">Difficult√© :</label>
            <div class="quiz-options" id="difficultyOptions">
                <button data-difficulty="any" class="selected">Al√©atoire</button>
                <button data-difficulty="easy">Facile</button>
                <button data-difficulty="medium">Moyen</button>
                <button data-difficulty="hard">Difficile</button>
            </div>
            
            <button id="startSelectedQuizBtn" style="margin-top: 20px;">D√©marrer le Quiz</button>
        </div>
    </div>

    <!-- Nouvelle section pour la dissertation -->
    <div id="dissertationContainer" style="display: none;">
        <h1>R√©digez votre Dissertation</h1>
        <div class="menu-section">
            <h2>Sujet de Dissertation</h2>
            <p id="dissertationTopicDisplay"></p>
            <button id="selectDissertationTopicBtn">Choisir un autre sujet</button>
            <div id="dissertationTopicSelection" style="display: none;">
                <label for="dissertationSubjectSelect">Choisissez un sujet :</label>
                <select id="dissertationSubjectSelect">
                    <option value="" disabled selected>S√©lectionnez un sujet</option>
                    <option value="La po√©sie est-elle seulement une affaire de sentiments ?">La po√©sie est-elle seulement une affaire de sentiments ?</option>
                    <option value="Dans quelle mesure le roman est-il une ouverture sur le monde ?">Dans quelle mesure le roman est-il une ouverture sur le monde ?</option>
                    <option value="Le th√©√¢tre a-t-il pour seule vocation de divertir ?">Le th√©√¢tre a-t-il pour seule vocation de divertir ?</option>
                    <option value="Les personnages de fiction nous aident-ils √† mieux comprendre le r√©el ?">Les personnages de fiction nous aident-ils √† mieux comprendre le r√©el ?</option>
                </select>
                <button id="confirmDissertationTopicBtn">Confirmer le sujet</button>
            </div>
        </div>

        <div class="menu-section">
            <h2>Votre R√©daction</h2>
            <textarea id="dissertationTextarea" rows="20" placeholder="Commencez √† r√©diger votre plan de dissertation ou votre dissertation compl√®te ici..."></textarea>
            <button id="analyzeDissertationBtn">Analyser ma Dissertation</button>
            <div id="loadingIndicator" style="display: none; margin-top: 15px; color: var(--phrase-color);">Analyse en cours...</div>
            <div id="dissertationFeedback" class="feedback" style="text-align: left;">
                <!-- Le feedback de l'IA sera ins√©r√© ici -->
            </div>
            <button id="backToMenuFromDissertationBtn" style="margin-top: 20px;">Retour au Menu Principal</button>
        </div>
    </div>
    <!-- Fin de la nouvelle section dissertation -->

    <div id="quizContainer">
        <h1 id="quizTitle"></h1>
        <div id="highScoreDisplay"></div>
        <div id="timerDisplay"></div> <!-- Nouveau : Affichage du timer -->
        <div class="progress-bar-container">
            <div class="progress-bar-fill" id="progressBarFill"></div>
        </div>
        <div class="phrase" id="phrase"></div>
        <form id="form">
            <label for="answer" style="display: none;">R√©ponse :</label><br>
            <select id="answer" required></select><br>
            <button type="submit" id="submitBtn">Valider</button>
        </form>
        <div id="feedback" class="feedback"></div>
        <div id="score" class="score"></div>
        <button id="explanationBtn" style="display: none;">Voir l'explication</button>
        <button id="nextBtn" style="display: none;">Suivant</button>
        <div id="endQuizBtns" style="display: none;">
            <button id="replayBtn">Rejouer</button>
            <button id="backToMenuBtn">Retour au Menu</button>
            <button id="viewQuizStatsBtn">Statistiques du Quiz</button> <!-- Nouveau bouton pour stats du quiz termin√© -->
        </div>
    </div>

    <div id="statsContainer">
        <h2>Statistiques de <span id="statsUserName"></span></h2>
        <div id="statsDetails">
            <!-- Les statistiques d√©taill√©es seront ins√©r√©es ici -->
            <p>Score total le plus √©lev√© pour <span id="statsForQuizTitle"></span>: <span id="statsHighScore"></span></p>
            <h3>Performance par Question (top 5 des plus rat√©es) :</h3>
            <ul id="failedQuestionsList"></ul>
        </div>
        <button id="backToMainMenuFromStatsBtn">Retour au Menu Principal</button>
    </div>
</div>

<!-- Importation du fichier JavaScript -->
<script src="script.js" defer></script>
</body>
</html>
